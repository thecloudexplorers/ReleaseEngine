resources:
  repositories:
  - repository: ReleaseEngine
    type: github
    endpoint: thecloudexplorers
    name: thecloudexplorers/ReleaseEngine
    ref: users/wcamargo/new-structure

trigger:
  branches:
    include:
    - users/wcamargo/*
  paths:
    include:
      - workloads/platform/identity-access-management/tenant-provisioning
            
pool:
  # vmImage: 'windows-latest'
  name: default

extends: 
  template: /src/pipelines/01-workloads/alz.platform.workload.yml@ReleaseEngine
  parameters:
    workloadSettings:
      workloadName: tenant-provisioning
  
  
  # parameters:
  #   settings:
  #     build:
  #       enabled: true
  #     deploy:
  #       enabled: true
  #       variablesDirectory: src/definitions/cloud/azure/appConfiguration/tests/examples/variables
  #       infrastructure:
  #         enabled: true
  #       application:
  #         enabled: false
  #     azure:
  #       subscription:
  #         serviceConnection: $(serviceConnection)
  #         subscriptionId: $(subscriptionId)
  #       resourceGroup:
  #         name: $(resourceGroupName)
  #         location: $(location)
  #         new: true
  #     environments:
  #       - dev
  #       # - uat
  #       # - prd
  #   resources:

  #     - name: spokeNetwork
  #       type: spokeNetwork
  #       jobName: spokeNetwork
  #       enabled: true
  #       deploy:
  #         infrastructure:
  #           enabled: true
  #           type: terraform
  #           variablesDirectory: src/definitions/cloud/azure/landingZones/platform/connectivity/spokeNetwork/tests/examples/variables
            